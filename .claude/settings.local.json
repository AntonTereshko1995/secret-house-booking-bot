{
  "permissions": {
    "allow": [
      "Bash(PYTHONPATH=/Users/a/secret-house-booking-bot-llm python apps/telegram_bot/main.py)",
      "mcp__ide__getDiagnostics",
      "Bash(make:*)",
      "mcp__serena__list_dir",
      "Bash(pip install:*)",
      "Bash(python:*)",
      "Bash(git add:*)",
      "Bash(git push:*)",
      "Bash(git commit:*)",
      "Bash(timeout 10 python apps/telegram_bot/main.py)",
      "Bash(brew services:*)",
      "Bash(black:*)",
      "Bash(PYTHONPATH:*)",
      "Bash(git checkout:*)",
      "mcp__serena__check_onboarding_performed",
      "mcp__serena__read_memory",
      "mcp__serena__find_symbol",
      "mcp__serena__get_symbols_overview",
      "mcp__serena__search_for_pattern",
      "WebSearch",
      "WebFetch(domain:langchain-ai.github.io)",
      "Bash(uv run ruff check:*)",
      "Bash(uv run ruff format:*)",
      "Bash(uv run:*)",
      "Bash(find:*)",
      "Bash(uv add:*)",
      "Bash(tree:*)",
      "WebFetch(domain:core.telegram.org)",
      "WebFetch(domain:docs.aiogram.dev)",
      "mcp__serena__replace_symbol_body",
      "mcp__serena__insert_before_symbol",
      "Bash(timeout 30 python apps/telegram_bot/main.py)",
      "mcp__serena__insert_after_symbol",
      "Bash(pkill:*)",
      "Bash(ALEMBIC_OFFLINE=true uv run alembic revision --autogenerate -m \"Create initial tables\")",
      "Bash(DATABASE_URL=\"postgresql+asyncpg://user:pass@localhost/dbname\" uv run alembic revision --autogenerate -m \"Create initial tables\")",
      "Bash(ALEMBIC_OFFLINE=true uv run alembic revision --autogenerate -m \"Add phone_number to users\")",
      "Bash(ALEMBIC_OFFLINE=true uv run alembic revision --autogenerate -m \"Add feedback_submitted to booking\")",
      "Bash(python3:*)",
      "Bash(ALEMBIC_OFFLINE=true uv run alembic revision --autogenerate -m \"Add incognito questionnaire fields\")",
      "Bash(timeout:*)",
      "Bash(ALEMBIC_OFFLINE=true uv run alembic revision --autogenerate -m \"Add chat_id to users\")",
      "Bash(ENV=debug uv run alembic revision --autogenerate -m \"Add chat_id to users\")",
      "Bash(ENV=debug uv run alembic upgrade head)",
      "Bash(ENV=debug uv run python -c \"from db.models.user import UserBase; from database import engine; from sqlalchemy import inspect; insp = inspect(engine); cols = [c.name for c in insp.get_columns(''user'')]; print(''Columns:'', cols); print(''chat_id present:'', ''chat_id'' in cols)\")",
      "Bash(ENV=debug uv run pytest tests/test_chat_id_management.py -v)",
      "Bash(ENV=debug uv run pytest tests/ -v)",
      "Bash(ENV=debug uv run pytest tests/ -v --tb=short)",
      "Bash(awk:*)",
      "Bash(wc:*)",
      "Bash(ENV=debug uv run alembic revision -m \"Transfer chat_id from booking to user and add booking counters\")",
      "Bash(ENV=debug uv run alembic downgrade -1)",
      "Bash(ENV=debug uv run alembic current)",
      "Bash(ENV=debug uv run alembic history)",
      "Bash(ENV=debug uv run alembic upgrade 0c1b9c465d4d)",
      "Bash(ENV=debug uv run python -c \"from db.models.user import UserBase; from db.database import engine; from sqlalchemy import inspect; insp = inspect(engine); cols = [c.name for c in insp.get_columns(''user'')]; print(''Columns:'', cols); print(''has_bookings present:'', ''has_bookings'' in cols)\")",
      "Bash(sqlite3:*)",
      "Bash(ENV=debug uv run pytest tests/test_chat_id_management.py -v --tb=short)",
      "Bash(ENV=debug python3:*)",
      "Bash(gtimeout:*)",
      "Bash(echo \"Exit code: $?\")",
      "Bash(uv pip install:*)",
      "Bash(ENV=debug python:*)",
      "Bash(ALEMBIC_OFFLINE=true uv run alembic revision --autogenerate -m \"Add completed_bookings to users\")",
      "Bash(ENV=debug ALEMBIC_OFFLINE=true uv run alembic revision --autogenerate -m \"Add completed_bookings to users\")",
      "Bash(ENV=debug uv run alembic revision -m \"Populate completed_bookings from existing data\")",
      "Bash(ENV=debug ALEMBIC_OFFLINE=true uv run alembic revision --autogenerate -m \"Add user_name field to users\")",
      "Bash(ENV=debug uv run alembic revision -m \"Add user_name field to users\")",
      "Bash(ENV=debug uv run alembic history --verbose)",
      "Bash(export ENV=debug)",
      "Bash(for:*)",
      "Bash(do)",
      "Bash(echo:*)",
      "Bash(done)"
    ],
    "deny": [],
    "ask": []
  }
}
